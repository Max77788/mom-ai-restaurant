{'name': 'MOM AI Restaurant Voice Genie', 'description': '', 'nodes': [{'id': '1', 'data': {'tag': None, 'name': 'Start', 'active': False, 'prompt': "Greet the customer and explain that you can help with providing information about {{ restaurant_name }}'s menu, hours and location, as well as placing a pickup or takeaway order. Keep it short, under 30 words.", 'isStart': True, 'globalPrompt': 'You speak {{ restaurant_language }}. The language which you communicate in is {{ restaurant_language }}.', 'modelOptions': {'modelType': 'smart', 'temperature': 0.2, 'skipUserResponse': False, 'block_interruptions': False, 'disableSilenceRepeat': False}}, 'type': 'Default'}, {'id': 'ae3456f4-f0de-4ca3-b696-0db74ccee8b8', 'data': {'name': 'Provide Menu Information', 'active': False, 'prompt': "Provide an overview of the restaurant's menu, including popular dishes and any dietary options (vegetarian, gluten-free, etc.). Ask if the customer needs any other information or if they would like to place an order.\n\nKnowledge base (menu):\n\n{{ restaurant_menu }}\n\nPrices are in Euros.", 'globalPrompt': 'You speak {{ restaurant_language }}. The language which you communicate in is {{ restaurant_language }}.', 'modelOptions': {'modelType': 'smart', 'temperature': 0.2, 'skipUserResponse': False, 'block_interruptions': False}}, 'type': 'Default'}, {'id': '8eda7804-2ab2-4d2c-9c6b-64389f85259e', 'data': {'name': 'Provide Hours Information', 'active': False, 'prompt': "Provide the restaurant's hours of operation. Ask if the customer needs any other information or if they would like to place an order.", 'globalPrompt': 'You speak {{ restaurant_language }}. The language which you communicate in is {{ restaurant_language }}.', 'modelOptions': {'modelType': 'smart', 'temperature': 0.2, 'skipUserResponse': False, 'block_interruptions': False}}, 'type': 'Default'}, {'id': '471a7bcc-450d-47ab-a151-6984a6ad8a77', 'data': {'name': 'Provide Location Information', 'active': False, 'prompt': "Provide the restaurant's address and directions. Ask if the customer needs any other information or if they would like to place an order.", 'globalPrompt': 'You speak {{ restaurant_language }}. The language which you communicate in is {{ restaurant_language }}.', 'modelOptions': {'modelType': 'smart', 'temperature': 0.2, 'skipUserResponse': False, 'block_interruptions': False}}, 'type': 'Default'}, {'id': '118bfb5e-5ce1-4bd4-8ea4-33a71c3c0894', 'data': {'tag': None, 'name': 'Take Order', 'active': False, 'prompt': 'Ask the customer for their name and the items they would like to order. Confirm the order details with the customer. Always explicitly inquire the amount of each item the customer wants to order.\n\n\nUse this menu for referrence:\n{{ restaurant_menu }}', 'condition': "You have received the list of items along with the quantity of each dish the customer wants to order. Also, you have obtained the name of the customer. The condition is failed if you do not have both customer's name and list of items along with quantity.", 'extractVars': [['name', 'string', 'Extract the name of the user'], ['array_of_ordered_items', 'string', 'Extract the array of the items the user has ordered. Example: [{"name":"Biryani Lamb", "quantity":2, "price":price per one item}]\n\nNecessarily include all name, quantity and price for every item']], 'globalPrompt': 'You speak {{ restaurant_language }}. The language which you communicate in is {{ restaurant_language }}.', 'modelOptions': {'modelType': 'smart', 'temperature': 0.2, 'skipUserResponse': False, 'block_interruptions': False, 'disableSilenceRepeat': False}}, 'type': 'Default'}, {'id': '733f7e19-b01c-487d-9824-b22ed6b30827', 'data': {'name': 'End Call', 'active': True, 'prompt': 'Thank the customer for their order. Wish them a good day and let them know their food is being expertly prepared by the chefs. And the user can come at {{ store_location }} to get his food. Send the conversation transcript to the provided API endpoint.', 'globalPrompt': 'You speak {{ restaurant_language }}. The language which you communicate in is {{ restaurant_language }}.', 'modelOptions': {'modelType': 'smart', 'temperature': 0.2, 'skipUserResponse': False, 'block_interruptions': False}}, 'type': 'End Call'}, {'id': '74e3fdcc-7f38-4e2f-80d3-76618eff8967', 'data': {'url': 'https://mom-ai-restaurant.pro/post-phone-order', 'body': '{"unique_azz_id": "{{ unique_azz_id }}", "array_of_ordered_items": {{ array_of_ordered_items }}, "name": "{{  name }}", "from_number": "{{ from }}", "order_type": "{{ order_type }}"}\n\n', 'name': 'Send the order', 'active': False, 'method': 'POST', 'prompt': "Notify the customer that you are registering the order in the restaurant's system", 'headers': [['Content-Type', 'application/json']], 'globalPrompt': 'You speak {{ restaurant_language }}. The language which you communicate in is {{ restaurant_language }}.', 'modelOptions': {'modelType': 'smart', 'temperature': 0.2, 'skipUserResponse': False, 'block_interruptions': False}, 'timeoutValue': 12, 'responsePathways': [['Default/Webhook Completion', '', '', {'id': '733f7e19-b01c-487d-9824-b22ed6b30827', 'name': 'End Call'}]]}, 'type': 'Webhook'}, {'id': '264bbfef-4868-403e-9705-c8afe5b0e9b5', 'data': {'tag': None, 'name': 'Finalize Order', 'active': False, 'prompt': "Finalize the order taken and confirm that the customer agrees with it. Capture user's name definitively. DO NOT ASK WHEN THE USER WANTS TO PICK UP THE ORDER. Simply tell him that the food will be ready soon. Ask whether the formed so far order is absolutely correct.", 'condition': "You have received the definite list of items along with the quantity of each dish the customer wants to order. Also, you have obtained the name of the customer. The condition is failed if you do not have both customer's name and list of items along with quantity.", 'extractVars': [['name', 'string', 'Extract the name of the user'], ['array_of_ordered_items', 'string', 'Extract the array of the items the user has ordered. Example: [{"name":"Biryani Lamb", "quantity":2, "price":price per one item}]']], 'globalPrompt': 'You speak {{ restaurant_language }}. The language which you communicate in is {{ restaurant_language }}.', 'modelOptions': {'modelType': 'smart', 'temperature': 0.2, 'skipUserResponse': False, 'block_interruptions': False, 'disableSilenceRepeat': False}}, 'type': 'Default'}, {'id': '5d5770a4-c6f3-4119-a352-5e763f640a23', 'data': {'name': 'Modify the current order', 'active': False, 'prompt': 'Specify what the customer would like to add to, change in or remove from the currently formed order.', 'globalPrompt': 'You speak {{ restaurant_language }}. The language which you communicate in is {{ restaurant_language }}.', 'modelOptions': {'modelType': 'smart', 'temperature': 0.2, 'skipUserResponse': False, 'block_interruptions': False}}, 'type': 'Default'}, {'id': '9ed56a1f-b9eb-46e9-a510-5d66b0ab12b2', 'data': {'kb': 'Awaiting Time until the food is ready:\nfrom 15 to 30 minutes\n\nOpening Hours:\n{{ opening_hours }}\n\nStore Location:\n{{ store_location }}\n\nTimezone:\n{{ timezone }}\n\nMenu of the restaurant:\n{{ restaurant_menu }}\n\nPrices are in Euros.', 'name': 'New Knowledge Base Node', 'active': False, 'prompt': 'This is a phone call. Do not use exclamation marks. Keep your responses 80 words or less. DO NOT ask the customer: "Would you like to pick up your order?" DO NOT EVER include the total price of the order, simply state the price of the item on the menu.\n\nPronounce prices in Euros. Example: price - 22,90ˆ = You pronounce "twenty-two euros and ninety cents."\n\nIf the customer asks whether we are open or not, simply check {{ now_utc }} against the working hours and provide the deducted answer.\n\nConvert 24HR format timings to 12 HR format - e.g 14:00 should be written as 2 PM.\n\nOFFER ONLY PICKUP. ALWAYS ASK FOR THE CUSTOMER\'S NAME WHEN REGISTERING THE ORDER.\n\nALWAYS ASK FOR THE CUSTOMER\'S NAME WHEN TAKING ORDER.\n\nYou work in the restaurant named {{ restaurant_name }}.', 'isGlobal': True, 'globalLabel': '', 'globalPrompt': 'You speak {{ restaurant_language }}. The language which you communicate in is {{ restaurant_language }}.', 'modelOptions': {'modelType': 'smart', 'temperature': 0.2, 'skipUserResponse': False, 'block_interruptions': False}}, 'type': 'Knowledge Base'}, {'id': '3acf53e2-1a5d-45fc-9716-d9fb8fcf629f', 'data': {'name': 'Offer a Customer to Order in the Restaurant', 'active': False, 'prompt': 'Offer to make the order in {{ restaurant_name }} very certainly.', 'globalPrompt': 'You speak {{ restaurant_language }}. The language which you communicate in is {{ restaurant_language }}.', 'modelOptions': {'modelType': 'smart', 'temperature': 0.2, 'skipUserResponse': False, 'block_interruptions': False}}, 'type': 'Default'}, {'id': 'b099da15-6547-4e39-ad3e-0e1f878d8527', 'data': {'name': 'End Call without the Order', 'active': False, 'prompt': 'Thank a customer for his time and say that he is welcome to come in {{ restaurant_name }} at any time.', 'globalPrompt': 'You speak {{ restaurant_language }}. The language which you communicate in is {{ restaurant_language }}.', 'modelOptions': {'modelType': 'smart', 'temperature': 0.2, 'skipUserResponse': False, 'block_interruptions': False}}, 'type': 'End Call'}, {'id': 'e4c04dbb-6e97-406e-952e-fa167d26ee79', 'data': {'tag': None, 'name': 'Grab the order type', 'text': 'Do you want your order for pickup or dine-in?', 'condition': "You ensure that the order type which ONLY either 'pickup' or 'takeaway' is captured.", 'extractVars': [['order_type', 'string', "Ask the customer whether he wants his order pickup or takeaway. ONLY 'pickup' or 'takeaway' are possible values."]], 'globalPrompt': 'You speak {{ restaurant_language }}. The language which you communicate in is {{ restaurant_language }}.', 'modelOptions': {'modelType': 'smart', 'temperature': 0.2, 'skipUserResponse': False, 'block_interruptions': False, 'disableSilenceRepeat': False}}, 'type': 'Default'}], 'edges': [{'id': 'reactflow__edge-1-Provide Menu Information', 'label': 'Customer asks about menu', 'description': 'If the customer asks about the menu, provide information about the menu options.', 'source': '1', 'target': 'ae3456f4-f0de-4ca3-b696-0db74ccee8b8'}, {'id': 'reactflow__edge-1-Provide Hours Information', 'label': 'Customer asks about hours', 'description': "If the customer asks about the restaurant's hours, provide the hours of operation.", 'source': '1', 'target': '8eda7804-2ab2-4d2c-9c6b-64389f85259e'}, {'id': 'reactflow__edge-1-Provide Location Information', 'label': 'Customer asks about location', 'description': "If the customer asks about the restaurant's location, provide the address and directions.", 'source': '1', 'target': '471a7bcc-450d-47ab-a151-6984a6ad8a77'}, {'id': 'reactflow__edge-1-Take Order', 'label': 'Customer wants to place order', 'description': 'If the customer wants to place an order for pickup, proceed to take their order.', 'source': '1', 'target': '118bfb5e-5ce1-4bd4-8ea4-33a71c3c0894'}, {'id': 'reactflow__edge-ae3456f4-f0de-4ca3-b696-0db74ccee8b8-Provide Menu Information', 'label': 'Customer needs more menu information', 'description': 'If the customer needs more specific information about the menu, provide additional details.', 'source': 'ae3456f4-f0de-4ca3-b696-0db74ccee8b8', 'target': 'ae3456f4-f0de-4ca3-b696-0db74ccee8b8'}, {'id': 'reactflow__edge-ae3456f4-f0de-4ca3-b696-0db74ccee8b8-Take Order', 'label': 'Customer wants to place order', 'description': 'If the customer is ready to place an order, proceed to take their order.', 'source': 'ae3456f4-f0de-4ca3-b696-0db74ccee8b8', 'target': '118bfb5e-5ce1-4bd4-8ea4-33a71c3c0894'}, {'id': 'reactflow__edge-ae3456f4-f0de-4ca3-b696-0db74ccee8b8-Start', 'label': 'Customer has another question', 'description': 'If the customer has a different question, go back to the start node to handle their new query.', 'source': 'ae3456f4-f0de-4ca3-b696-0db74ccee8b8', 'target': '1'}, {'id': 'reactflow__edge-8eda7804-2ab2-4d2c-9c6b-64389f85259e-Provide Hours Information', 'label': 'Customer needs more hours information', 'description': 'If the customer needs more specific information about the hours, provide additional details.', 'source': '8eda7804-2ab2-4d2c-9c6b-64389f85259e', 'target': '8eda7804-2ab2-4d2c-9c6b-64389f85259e'}, {'id': 'reactflow__edge-8eda7804-2ab2-4d2c-9c6b-64389f85259e-Take Order', 'label': 'Customer wants to place order', 'description': 'If the customer is ready to place an order, proceed to take their order.', 'source': '8eda7804-2ab2-4d2c-9c6b-64389f85259e', 'target': '118bfb5e-5ce1-4bd4-8ea4-33a71c3c0894'}, {'id': 'reactflow__edge-8eda7804-2ab2-4d2c-9c6b-64389f85259e-Start', 'label': 'Customer has another question', 'description': 'If the customer has a different question, go back to the start node to handle their new query.', 'source': '8eda7804-2ab2-4d2c-9c6b-64389f85259e', 'target': '1'}, {'id': 'reactflow__edge-471a7bcc-450d-47ab-a151-6984a6ad8a77-Provide Location Information', 'label': 'Customer needs more location information', 'description': 'If the customer needs more specific information about the location, provide additional details.', 'source': '471a7bcc-450d-47ab-a151-6984a6ad8a77', 'target': '471a7bcc-450d-47ab-a151-6984a6ad8a77'}, {'id': 'reactflow__edge-471a7bcc-450d-47ab-a151-6984a6ad8a77-Take Order', 'label': 'Customer wants to place order', 'description': 'If the customer is ready to place an order, proceed to take their order.', 'source': '471a7bcc-450d-47ab-a151-6984a6ad8a77', 'target': '118bfb5e-5ce1-4bd4-8ea4-33a71c3c0894'}, {'id': 'reactflow__edge-471a7bcc-450d-47ab-a151-6984a6ad8a77-Start', 'label': 'Customer has another question', 'description': 'If the customer has a different question, go back to the start node to handle their new query.', 'source': '471a7bcc-450d-47ab-a151-6984a6ad8a77', 'target': '1'}, {'id': 'reactflow__edge-118bfb5e-5ce1-4bd4-8ea4-33a71c3c0894-Take Order', 'label': 'Order needs changes or we have not received the name of the user', 'description': 'If the customer needs to make changes to their order, go back to the Take Order node. Also, go back to the Take Order node in case you have not obtained the mane of the user', 'source': '118bfb5e-5ce1-4bd4-8ea4-33a71c3c0894', 'target': '118bfb5e-5ce1-4bd4-8ea4-33a71c3c0894'}, {'id': 'reactflow__edge-264bbfef-4868-403e-9705-c8afe5b0e9b5-74e3fdcc-7f38-4e2f-80d3-76618eff8967', 'label': 'Order is Complete', 'description': 'User confirmed the order and placed it', 'source': '264bbfef-4868-403e-9705-c8afe5b0e9b5', 'target': '74e3fdcc-7f38-4e2f-80d3-76618eff8967'}, {'id': 'reactflow__edge-264bbfef-4868-403e-9705-c8afe5b0e9b5-5d5770a4-c6f3-4119-a352-5e763f640a23', 'label': 'User wants to modify the order', 'description': 'User wants to modify the order', 'source': '264bbfef-4868-403e-9705-c8afe5b0e9b5', 'target': '5d5770a4-c6f3-4119-a352-5e763f640a23'}, {'id': 'reactflow__edge-5d5770a4-c6f3-4119-a352-5e763f640a23-264bbfef-4868-403e-9705-c8afe5b0e9b5', 'label': 'User responded', 'source': '5d5770a4-c6f3-4119-a352-5e763f640a23', 'target': '264bbfef-4868-403e-9705-c8afe5b0e9b5'}, {'id': 'reactflow__edge-ae3456f4-f0de-4ca3-b696-0db74ccee8b8-3acf53e2-1a5d-45fc-9716-d9fb8fcf629f', 'label': 'User does not need more information', 'description': 'We derive from this message "{{ lastUserMessage }}" that user does not want more information.', 'source': 'ae3456f4-f0de-4ca3-b696-0db74ccee8b8', 'target': '3acf53e2-1a5d-45fc-9716-d9fb8fcf629f'}, {'id': 'reactflow__edge-3acf53e2-1a5d-45fc-9716-d9fb8fcf629f-118bfb5e-5ce1-4bd4-8ea4-33a71c3c0894', 'label': 'User wants to make the order', 'source': '3acf53e2-1a5d-45fc-9716-d9fb8fcf629f', 'target': '118bfb5e-5ce1-4bd4-8ea4-33a71c3c0894'}, {'id': 'reactflow__edge-3acf53e2-1a5d-45fc-9716-d9fb8fcf629f-b099da15-6547-4e39-ad3e-0e1f878d8527', 'label': 'User does not want to order in the restaurant', 'description': 'User does not want to order in the restaurant', 'source': '3acf53e2-1a5d-45fc-9716-d9fb8fcf629f', 'target': 'b099da15-6547-4e39-ad3e-0e1f878d8527'}, {'id': 'reactflow__edge-8eda7804-2ab2-4d2c-9c6b-64389f85259e-3acf53e2-1a5d-45fc-9716-d9fb8fcf629f', 'label': 'User does not need any more information', 'description': 'User does not need any more information', 'source': '8eda7804-2ab2-4d2c-9c6b-64389f85259e', 'target': '3acf53e2-1a5d-45fc-9716-d9fb8fcf629f'}, {'id': 'reactflow__edge-471a7bcc-450d-47ab-a151-6984a6ad8a77-3acf53e2-1a5d-45fc-9716-d9fb8fcf629f', 'label': 'User does not need any more information', 'description': 'User does not need any more information', 'source': '471a7bcc-450d-47ab-a151-6984a6ad8a77', 'target': '3acf53e2-1a5d-45fc-9716-d9fb8fcf629f'}, {'id': 'reactflow__edge-74e3fdcc-7f38-4e2f-80d3-76618eff8967-733f7e19-b01c-487d-9824-b22ed6b30827', 'label': 'Default/Webhook Completion', 'source': '74e3fdcc-7f38-4e2f-80d3-76618eff8967', 'target': '733f7e19-b01c-487d-9824-b22ed6b30827'}, {'id': 'reactflow__edge-118bfb5e-5ce1-4bd4-8ea4-33a71c3c0894-e4c04dbb-6e97-406e-952e-fa167d26ee79', 'label': 'User responded', 'source': '118bfb5e-5ce1-4bd4-8ea4-33a71c3c0894', 'target': 'e4c04dbb-6e97-406e-952e-fa167d26ee79'}, {'id': 'reactflow__edge-e4c04dbb-6e97-406e-952e-fa167d26ee79-264bbfef-4868-403e-9705-c8afe5b0e9b5', 'label': 'User responded', 'source': 'e4c04dbb-6e97-406e-952e-fa167d26ee79', 'target': '264bbfef-4868-403e-9705-c8afe5b0e9b5'}], 'published_at': '2024-10-28T12:52:53.753839+00:00', 'production_version_number': 1}